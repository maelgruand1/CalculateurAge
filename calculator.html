<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul de l'âge</title>
</head>
<body>
    <h1>Calculer votre âge</h1>
    <form id="ageForm">
        <label for="dateNaiss">Date de naissance :</label>
        <input type="date" id="dateNaiss" required>
        <button type="submit">Calculer l'âge</button>
        <button type="button" id="resetBtn">Réinitialiser</button>
    </form>
    
    <p id="result"></p>

    <script>
        function calculateAge(event) {
            event.preventDefault(); // Evite que la page se recharge

            // Récupère la date de naissance
            const birthDate = new Date(document.getElementById("dateNaiss").value);

            // Récupère la date et l'heure actuelles
            const today = new Date();
            
            // Vérifie si la date de naissance est dans le futur
            if (birthDate > today) {
                alert("La date d'aujourd'hui ne peut pas être antérieure à votre date de naissance.");
                return;
            }

            // Calcul des années
            let years = today.getFullYear() - birthDate.getFullYear();

            // Vérifie si l'anniversaire n'est pas encore passé cette année
            const monthDiff = today.getMonth() - birthDate.getMonth();
            const dayDiff = today.getDate() - birthDate.getDate();
            if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {
                years--;
            }

            // Calcul des mois
            let months = today.getMonth() - birthDate.getMonth();
            if (dayDiff < 0) {
                months--;
            }
            if (months < 0) {
                months += 12;
            }

            // Calcul des jours
            let days = dayDiff;
            if (days < 0) {
                const previousMonth = new Date(today.getFullYear(), today.getMonth(), 0).getDate();
                days += previousMonth;
            }

            // Affiche le résultat
            const resultDisplay = document.getElementById("result");
            resultDisplay.textContent = `Vous avez ${years} ans, ${months} mois et ${days} jours.`;
        }

        function resetForm() {
            // Réinitialise le champ de la date de naissance et le texte du résultat
            document.getElementById("dateNaiss").value = "";
            document.getElementById("result").textContent = "";
        }

        // Ajoute l'événement pour la soumission du formulaire
        document.getElementById("ageForm").addEventListener("submit", calculateAge);

        // Ajoute l'événement pour le bouton de réinitialisation
        document.getElementById("resetBtn").addEventListener("click", resetForm);
    </script>
</body>
</html>
